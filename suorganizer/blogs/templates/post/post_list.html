{% extends parent_template|default:'post/base_blog.html' %}
{% block title %}
{{ block.super }} - Blog List
{% endblock %}
{% block content %}
<div class="container">
<div class="row">
    <div class="col-4">
        <h3>Post Archives</h3>
        <ul>
            {% for y in date_list %}
            <li><a href="{% url 'blogs_post_archive_year' y|date:'Y' %}">
                {{ y|date:"Y" }}
            </a> </li>
            {% endfor %}
        </ul>

    </div>
    <div class="col-8">
{% if messages %}
<div>
    <div>

            {% for message in messages %}
            {% if message.tags %}
        <div class="alert alert-{{message.tags }}" role="alert"></div>
                {% else %}
                <div>
                {% endif %}
                {{ message }}
            </div>
            {% endfor %}

    </div>
</div>
{% endif %}
{% for post in post_list %}
<article>
    <header>
        <h2>
            <a href="{{ post.get_absolute_url }}">
                {{ post.title|title }}
            </a>
        </h2>
        <p>
            Written on:

                {{ post.pub_date|date:"l, Fj, Y"}}

        </p>
    </header>
    <p>{{ post.text|truncatewords:20 }}</p>
    <p>
        <a href="{{ post.get_absolute_url }}">
            Read more&hellip;
        </a>
    </p>
    <p>
        <a href="{{ post.get_update_url }}" class="text-warning">Edit Post</a>
    </p>
    <p>
        <a href="{{ post.get_delete_url }}" class="text-danger">Delete Post</a>
    </p>
</article>
{% empty %}
<p><em>No Blog Posts Available</em></p>
{% endfor %}
<div>
    <a href="{% url 'blogs_post_create' %}" class="text-info">
        Write New Blog
    </a>
</div>
        </div>
    </div>
    </div>
{% endblock %}